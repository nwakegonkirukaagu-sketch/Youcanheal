<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouCanHeal Dashboard - Static Mode</title>
<style>
body {
font-family: 'Poppins', sans-serif;
margin: 0;
background: linear-gradient(135deg, #fffaf0, #fff3e0);
color: #333;
overflow-x: hidden;
}
header {
background-color: #ffc107;
color: white;
padding: 15px 25px;
display: flex;
justify-content: space-between;
align-items: center;
box-shadow: 0 2px 8px rgba(0,0,0,0.1);
position: sticky;
top: 0;
z-index: 10;
}
header h1 {
font-size: 1.6em;
margin: 0;
}
nav a {
color: white;
text-decoration: none;
margin: 0 12px;
font-weight: 600;
}
nav a:hover { text-decoration: underline; }

.notice {
background: #fff3cd;
border: 1px solid #ffeaa7;
color: #856404;
padding: 15px;
margin: 20px auto;
max-width: 1100px;
border-radius: 8px;
text-align: center;
}

main {
max-width: 1100px;
margin: 30px auto;
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 25px;
padding: 10px;
animation: fadeIn 1.2s ease-in;
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}
.card {
background: white;
border-radius: 15px;
padding: 20px;
box-shadow: 0 4px 10px rgba(0,0,0,0.1);
transition: transform 0.3s ease;
}
.card:hover {
transform: scale(1.02);
}
h2 {
color: #e65100;
font-size: 1.3em;
border-bottom: 2px solid #ffe082;
padding-bottom: 5px;
margin-bottom: 10px;
}
button {
background: #ffc107;
color: white;
border: none;
border-radius: 6px;
padding: 8px 14px;
cursor: pointer;
font-weight: 600;
transition: background-color 0.3s;
}
button:hover {
background-color: #ffb300;
}
button:disabled {
background-color: #ccc;
cursor: not-allowed;
}
input[type="text"], input[type="number"] {
padding: 8px;
border: 1px solid #ccc;
border-radius: 5px;
width: 90%;
}
footer {
background: #fff3cd;
padding: 20px;
text-align: center;
font-size: 0.9em;
color: #555;
border-top: 2px solid #ffe082;
margin-top: 30px;
}
.mood-btns button {
margin: 5px;
font-size: 1.2em;
padding: 5px 12px;
border-radius: 50%;
width: 40px;
height: 40px;
}
#chatBox {
background: #fff8e1;
border-radius: 10px;
padding: 10px;
max-height: 200px;
overflow-y: auto;
margin-bottom: 10px;
border: 1px solid #ffe082;
}
.fade-text {
animation: fadeText 2s ease-in-out infinite alternate;
}
@keyframes fadeText {
from { opacity: 0.7; }
to { opacity: 1; }
}
.user-message {
text-align: right;
margin: 5px 0;
}
.luna-message {
text-align: left;
margin: 5px 0;
}
.crisis-response {
border-left: 4px solid #ff6b6b;
background-color: #fff5f5;
padding: 10px;
font-weight: 500;
}
.offline-mode {
background: #e8f4f8;
border: 1px solid #bee5eb;
color: #0c5460;
padding: 10px;
border-radius: 6px;
margin-bottom: 15px;
font-size: 0.9em;
}
</style>
</head>
<body>
<header>
<h1>ğŸŒ¼ YouCanHeal</h1>
<nav>
<a href="#boost">Daily Boost</a>
<a href="#steps">Steps</a>
<a href="#luna">Luna</a>
<a href="#coping">Coping</a>
<a href="index.html">Home</a>
</nav>
</header>

<div class="notice">
<strong>ğŸ”§ Static Mode:</strong> You're viewing YouCanHeal in static mode. 
<a href="#install-nodejs" onclick="showNodeJSInstructions()">Install Node.js</a> for full AI features and backend functionality.
</div>

<main>
<!-- Daily Boost -->
<div class="card" id="boost">
<h2>ğŸŒ¸ Today's Gentle Boost</h2>
<div class="offline-mode">ğŸ’¡ Static mode: Random local messages</div>
<p id="boostText" class="fade-text">Click below for your gentle message...</p>
<button onclick="getBoost()">Get Today's Boost</button>
<div id="stepsDisplay" style="margin-top: 15px; font-size: 0.9em; color: #666;"></div>
</div>

<!-- Step Counter -->
<div class="card" id="steps">
<h2>ğŸš¶â€â™€ï¸ Daily Steps</h2>
<div class="offline-mode">ğŸ’¡ Static mode: Uses browser storage</div>
<p>Steps Today: <strong id="stepsCount">0</strong></p>
<input type="number" id="addStepsInput" placeholder="Add steps..." />
<button onclick="addSteps()">+ Add Steps</button>
</div>

<!-- Mood Checker -->
<div class="card" id="mood">
<h2>ğŸ’­ Mood Checker</h2>
<div class="offline-mode">ğŸ’¡ Static mode: Uses browser storage</div>
<p>How are you feeling today?</p>
<div class="mood-btns">
<button onclick="logMood('Happy')">ğŸ˜Š</button>
<button onclick="logMood('Okay')">ğŸ˜</button>
<button onclick="logMood('Sad')">ğŸ˜”</button>
<button onclick="logMood('Anxious')">ğŸ˜°</button>
</div>
<p id="moodLog">No moods logged yet.</p>
</div>

<!-- Chat with Luna -->
<div class="card" id="luna">
<h2>ğŸŒ™ Chat with Luna</h2>
<div class="offline-mode">ğŸ’¡ Static mode: Basic responses only. Install Node.js for AI chat.</div>
<div id="chatBox">
<div class="luna-message">
<p><strong>Luna:</strong> Hi there ğŸ’› I'm here in basic mode. For full AI conversations, please install Node.js!</p>
</div>
</div>
<input type="text" id="chatInput" placeholder="Type your message..." />
<button onclick="sendMessage()">Send</button>
<button onclick="clearChat()" style="background: #666; margin-left: 5px;">Clear Chat</button>
</div>

<!-- Coping Library -->
<div class="card" id="coping">
<h2>ğŸŒ¿ Coping Library</h2>
<ul>
<li><strong>Deep Breathing:</strong> Inhale 4s, hold 4s, exhale 4s. Repeat 5x.</li>
<li><strong>5-4-3-2-1 Grounding:</strong> Notice 5 things you see, 4 feel, 3 hear, 2 smell, 1 taste.</li>
<li><strong>Mini Gratitude:</strong> Write 3 things that made you smile today.</li>
<li><strong>Gentle Movement:</strong> Stretch your arms, roll your shoulders, or take a short walk.</li>
<li><strong>Self-Compassion:</strong> Speak to yourself like you would to a dear friend.</li>
</ul>
</div>

<!-- Crisis Resources -->
<div class="card" id="crisis">
<h2>ğŸ†˜ Crisis Support</h2>
<div style="border-left: 4px solid #ff6b6b; background: #fff5f5; padding: 15px; border-radius: 6px;">
<p><strong>If you're in crisis, please reach out:</strong></p>
<ul>
<li><strong>Emergency:</strong> 911 (US) / 999 (UK) / 112 (EU)</li>
<li><strong>Crisis Text Line:</strong> Text HOME to 741741</li>
<li><strong>Suicide Prevention:</strong> 988 (US) / 116 123 (UK)</li>
<li><strong>Online:</strong> suicidepreventionlifeline.org</li>
</ul>
<p><em>You matter and help is available ğŸ’›</em></p>
</div>
</div>
</main>

<!-- Node.js Installation Modal -->
<div id="nodejsModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
<div style="background: white; max-width: 600px; margin: 50px auto; padding: 30px; border-radius: 15px; max-height: 80vh; overflow-y: auto;">
<h3 style="color: #e65100; margin-top: 0;">ğŸš€ Install Node.js for Full Features</h3>
<p>To unlock the complete YouCanHeal experience with AI chat, crisis detection, and data persistence:</p>
<ol>
<li><strong>Download Node.js:</strong> Visit <a href="https://nodejs.org/" target="_blank">nodejs.org</a></li>
<li><strong>Install:</strong> Download and install the LTS version</li>
<li><strong>Open Terminal:</strong> In your WebApp folder</li>
<li><strong>Install Dependencies:</strong> <code>npm install</code></li>
<li><strong>Start Server:</strong> <code>node server.js</code></li>
<li><strong>Visit:</strong> <code>http://localhost:5000</code></li>
</ol>
<h4>âœ¨ Full Features Include:</h4>
<ul>
<li>ğŸ¤– Real AI conversations with Luna</li>
<li>ğŸŒ International crisis detection</li>
<li>ğŸ“Š Persistent data storage</li>
<li>ğŸ” Secure authentication</li>
<li>ğŸ“ Location-aware help resources</li>
</ul>
<button onclick="closeNodeJSModal()" style="background: #ffc107; color: white; border: none; padding: 10px 20px; border-radius: 6px; margin-top: 15px;">Got it!</button>
</div>
</div>

<footer>
&copy; <span id="year"></span> YouCanHeal â€¢ Gentle wellbeing companion for new parents & emotional healing. <br/>
<small>Disclaimer: This platform offers general wellbeing support and is not a substitute for medical advice.</small>
</footer>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

// Load saved data from localStorage
function loadSavedData() {
  const savedSteps = localStorage.getItem('dailySteps');
  if (savedSteps) {
    document.getElementById('stepsCount').textContent = savedSteps;
  }
  
  const savedMoods = localStorage.getItem('todayMoods');
  if (savedMoods) {
    const moods = JSON.parse(savedMoods);
    const lastMood = moods[moods.length - 1];
    if (lastMood) {
      document.getElementById('moodLog').textContent = `Last mood: ${lastMood.mood} (${lastMood.time})`;
    }
  }
}

// Step tracker with localStorage
function addSteps() {
  const input = document.getElementById("addStepsInput");
  const stepsToAdd = Number(input.value);
  
  if (stepsToAdd <= 0) {
    alert('Please enter a valid number of steps');
    return;
  }
  
  const currentSteps = Number(document.getElementById("stepsCount").textContent);
  const newTotal = currentSteps + stepsToAdd;
  
  document.getElementById("stepsCount").textContent = newTotal;
  localStorage.setItem('dailySteps', newTotal);
  
  input.value = "";
  
  // Show encouragement
  const display = document.getElementById('stepsDisplay');
  display.textContent = `Great! You added ${stepsToAdd} steps ğŸ‘Ÿ`;
  setTimeout(() => display.textContent = '', 3000);
}

// Enhanced daily boosts
const boosts = [
"You are doing better than you think ğŸ’›",
"Tiny steps are still progress ğŸŒ±",
"Resting is part of healing ğŸŒ¸",
"You are growing in calm and confidence ğŸŒ¿",
"You deserve the same care you give others ğŸ’«",
"Every breath is a chance to begin again ğŸŒ…",
"Your feelings are valid and temporary ğŸŒ™",
"Small acts of self-care create big changes âœ¨",
"You are stronger than you realize ğŸ’ª",
"Progress isn't always visible, but it's happening ğŸŒ¼",
"Be gentle with yourself today ğŸ¤—",
"You're exactly where you need to be ğŸŒŸ",
"One moment at a time is enough ğŸ•Šï¸",
"Your presence matters more than your productivity ğŸ’"
];

function getBoost() {
  const msg = boosts[Math.floor(Math.random() * boosts.length)];
  document.getElementById("boostText").textContent = msg;
}

// Mood checker with localStorage
function logMood(mood) {
  const log = document.getElementById("moodLog");
  const time = new Date().toLocaleTimeString();
  log.textContent = `Last mood: ${mood} (${time})`;
  
  // Save to localStorage
  const today = new Date().toDateString();
  let moods = JSON.parse(localStorage.getItem('todayMoods') || '[]');
  
  // Reset if new day
  const lastEntry = moods[0];
  if (lastEntry && new Date(lastEntry.date).toDateString() !== today) {
    moods = [];
  }
  
  moods.push({ mood, time, date: new Date().toISOString() });
  localStorage.setItem('todayMoods', JSON.stringify(moods));
}

// Basic Luna chat (static mode)
function sendMessage() {
  const chatInput = document.getElementById("chatInput");
  const chatBox = document.getElementById("chatBox");
  const userMsg = chatInput.value.trim();
  
  if (!userMsg) return;
  
  // Add user message
  const userDiv = document.createElement("div");
  userDiv.className = "user-message";
  userDiv.innerHTML = `<p><strong>You:</strong> ${userMsg}</p>`;
  chatBox.appendChild(userDiv);
  chatInput.value = "";
  
  // Basic crisis detection
  const lower = userMsg.toLowerCase();
  let isCrisis = false;
  
  if (lower.includes("hurt myself") || lower.includes("kill myself") || lower.includes("suicide") || lower.includes("end my life")) {
    isCrisis = true;
  }
  
  // Add Luna response after delay
  setTimeout(() => {
    const lunaDiv = document.createElement("div");
    lunaDiv.className = "luna-message";
    if (isCrisis) lunaDiv.className += " crisis-response";
    
    let response;
    if (isCrisis) {
      response = `I'm really concerned about you ğŸ’› Please reach out for immediate help:<br><br>
      ğŸ†˜ <strong>Crisis Support:</strong><br>
      â€¢ Emergency: 911 (US) / 999 (UK) / 112 (EU)<br>
      â€¢ Crisis Text Line: Text HOME to 741741<br>
      â€¢ Suicide Prevention: 988 (US) / 116 123 (UK)<br><br>
      You matter and there are people who want to help you through this. ğŸŒ™`;
    } else {
      response = getBasicLunaReply(userMsg);
    }
    
    lunaDiv.innerHTML = `<p><strong>Luna:</strong> ${response}</p>`;
    chatBox.appendChild(lunaDiv);
    chatBox.scrollTop = chatBox.scrollHeight;
  }, 1000);
}

function getBasicLunaReply(text) {
  const lower = text.toLowerCase();
  
  if (lower.includes("sad") || lower.includes("tired") || lower.includes("depressed"))
    return "I'm sorry you're feeling that way ğŸ’› Remember it's okay to rest. For deeper support, try installing Node.js for full AI chat.";
  if (lower.includes("happy") || lower.includes("good") || lower.includes("better"))
    return "That's lovely to hear ğŸŒ¸ Keep noticing those good moments!";
  if (lower.includes("anxious") || lower.includes("worried") || lower.includes("scared"))
    return "Breathe gently. You are safe in this moment ğŸŒ¿ Try the 5-4-3-2-1 grounding exercise.";
  if (lower.includes("hello") || lower.includes("hi"))
    return "Hello! ğŸŒ™ I'm Luna in basic mode. For full AI conversations, please install Node.js!";
  
  return "Thank you for sharing ğŸŒ¼ I'm here in basic mode. Install Node.js for full AI support and crisis detection!";
}

function clearChat() {
  const chatBox = document.getElementById("chatBox");
  chatBox.innerHTML = `
    <div class="luna-message">
      <p><strong>Luna:</strong> Hi there ğŸ’› I'm here in basic mode. For full AI conversations, please install Node.js!</p>
    </div>
  `;
}

// Node.js installation modal
function showNodeJSInstructions() {
  document.getElementById('nodejsModal').style.display = 'block';
}

function closeNodeJSModal() {
  document.getElementById('nodejsModal').style.display = 'none';
}

// Allow Enter key for inputs
document.getElementById('chatInput')?.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') sendMessage();
});

document.getElementById('addStepsInput')?.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') addSteps();
});

// Load saved data on page load
document.addEventListener('DOMContentLoaded', loadSavedData);

// Auto-generate boost on load
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(getBoost, 500);
});
</script>
</body>
</html>